(self.webpackChunkdoks=self.webpackChunkdoks||[]).push([[6587],{69737:(e,s,t)=>{e.exports={src:{srcSet:t.p+"assets/ideal-img/schema.5943e74.640.png 640w,"+t.p+"assets/ideal-img/schema.b7f27eb.1320.png 1320w,"+t.p+"assets/ideal-img/schema.4f5dbb7.2000.png 2000w",images:[{path:t.p+"assets/ideal-img/schema.5943e74.640.png",width:640,height:453},{path:t.p+"assets/ideal-img/schema.b7f27eb.1320.png",width:1320,height:935},{path:t.p+"assets/ideal-img/schema.4f5dbb7.2000.png",width:2e3,height:1417}],src:t.p+"assets/ideal-img/schema.5943e74.640.png",toString:function(){return t.p+"assets/ideal-img/schema.5943e74.640.png"},placeholder:void 0,width:640,height:453},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHCAYAAAAxrNxjAAAACXBIWXMAAAsTAAALEwEAmpwYAAABJElEQVR4nGOICgtziY6OVnd0dLTKyspyrq+vFwgICEgK9Av0zksLisrJim0LDHSXZPD39U329vCItre3b7W3t5/g4eFh6O3t3efq6pqcGBNYGB7u0xkY6CrG4ODi4u3u6Znh4+Pj6+bmFu7j42Pj6e1dZmJpktXTMzG3vafHmAEEDFRV9fW1tFo15OR8LFRVpfU1Ncu0VFRadNXVdU10dBYaqKmlgBVa6OkdVZeT+68oIfHEXE9vmbGW1n8dZeX/KlJSbc6WlqfNDA2PeHh4eDGY6+qeNNHW/m+grv7ETFd3uYG6+n8bI6P/Zrq67Rb6+tbOjo79nu7ujQyutrbLTHV0Hhlram7ysLOrN9XVvWttZHTb2cIiTlZY2MTe3r4wLNAnBQB2p1QvHb8yegAAAABJRU5ErkJggg=="}},76186:(e,s,t)=>{e.exports={src:{srcSet:t.p+"assets/ideal-img/storage.c286cfe.640.png 640w,"+t.p+"assets/ideal-img/storage.ac2a367.1320.png 1320w,"+t.p+"assets/ideal-img/storage.7bc9baa.1909.png 1909w",images:[{path:t.p+"assets/ideal-img/storage.c286cfe.640.png",width:640,height:555},{path:t.p+"assets/ideal-img/storage.ac2a367.1320.png",width:1320,height:1144},{path:t.p+"assets/ideal-img/storage.7bc9baa.1909.png",width:1909,height:1654}],src:t.p+"assets/ideal-img/storage.c286cfe.640.png",toString:function(){return t.p+"assets/ideal-img/storage.c286cfe.640.png"},placeholder:void 0,width:640,height:555},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAJCAYAAAALpr0TAAAACXBIWXMAAAsTAAALEwEAmpwYAAABcElEQVR4nGNgYGBg+P+fgdHdJ9rIyT3Y1j842ra8PMc7LirKsSA11iUmJsYpNDLSjOH////c9fv/s2xY1pO9dd2k/iWzOyo3r2ibP609rcovvSvO2y8wItjXPYjh///3AqGr/jNfODxv5sUjC04tnDOpdPfarjkZbR31egVLMvJi3ILz4xz9QCbygBRnljVbpRU3ehs4+5hWNRb7xmQVesRmZrqkp2e7ZuXl2YAUMu7fv59lbXxM9rqE2M5NSQmd6+Pi2tfHxbWsS0hoyo8KDwoIDQUrZPr//z/zpug80+mBBSELonPD5ielRE+NTEycEZUQnhubYRgdnSvD8O/fPz6Qh7y9/+vn53/bGR//JxYUEstc00NatFIMqqr+G7Q3vMpnqK+vZ/n//z9rc/VBxYjA6SHlhXOCQwPyjKOdom3rsyerrV38RbKq6rw0SDMjiAgM9JAxNdVdaGVjvtLKymqlqYXpRhsHG3uQHEM9AxMAfoedU0i0c/UAAAAASUVORK5CYII="}},5539:(e,s,t)=>{"use strict";t.r(s),t.d(s,{assets:()=>p,contentTitle:()=>l,default:()=>A,frontMatter:()=>c,metadata:()=>g,toc:()=>m});var a=t(85893),i=t(11151),r=t(15944),n=t(69737),o=t.n(n),d=t(76186),h=t.n(d);const c={title:"Mikro",sidebar_label:"Mikro",sidebar_position:1},l="Mikro",g={id:"design/services/mikro",title:"Mikro",description:"Mikro is the Arkitekt go to solution for all things microscopy. It provides",source:"@site/docs/design/services/mikro.mdx",sourceDirName:"design/services",slug:"/design/services/mikro",permalink:"/docs/design/services/mikro",draft:!1,unlisted:!1,editUrl:"https://github.com/jhnnsrs/doks/edit/master/docs/design/services/mikro.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{title:"Mikro",sidebar_label:"Mikro",sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Mikro",permalink:"/docs/design/services/lok"},next:{title:"Rekuest",permalink:"/docs/design/services/rekuest"}},p={},m=[{value:"Schema",id:"schema",level:2},{value:"Storage",id:"storage",level:2},{value:"Metadata",id:"metadata",level:2}];function u(e){const s={a:"a",admonition:"admonition",h1:"h1",h2:"h2",p:"p",...(0,i.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.h1,{id:"mikro",children:"Mikro"}),"\n",(0,a.jsxs)(s.p,{children:["Mikro is the Arkitekt go to solution for all things microscopy. It provides\nthe datamodels and services for managing microscopy data, and connects a binary\nstorage system built around S3 object store (in a standard deploylement powered ",(0,a.jsx)(s.a,{href:"https://min.io/",children:"Minio"}),"), with a relational\ndatabase ",(0,a.jsx)(s.a,{href:"https://postgressql.org",children:"Postgres"})," for metadata storage."]}),"\n",(0,a.jsx)(s.p,{children:"As an API first system, Mikro exposes a GraphQL API for all of its operations that\ncan be used by any client. It also provides a web based admin UI for interacting with\nthe system through a browser."}),"\n",(0,a.jsx)(s.admonition,{title:"API Documentation",type:"note",children:(0,a.jsxs)(s.p,{children:["The Mikro API is completely interactively documentated using a GraphIQL Playground. You can\nhead over to the ",(0,a.jsx)(s.a,{href:"/explorer",children:"API Explorer"})," and select the mikro service, to explore the\nAPI and try out some queries. In order to use this you will however need to be logged in,\nand connected to an Arkitekt instance."]})}),"\n",(0,a.jsx)(s.h2,{id:"schema",children:"Schema"}),"\n",(0,a.jsxs)(s.p,{children:["The Mikro ",(0,a.jsx)(s.a,{href:"/docs/design/graphql#schema",children:"schema"})," is the core of the system. It defines the data models and relationships\nthat are used to store and retrieve data. The schema is defined in ",(0,a.jsx)(s.a,{href:"https://graphql.org",children:"GraphQL"}),"\nand provides the only interface to the system. You can inspect a recent ",(0,a.jsx)(s.a,{href:"/schema.graphql",children:"schema.graphql"}),"\nOr you can use the ",(0,a.jsx)(s.a,{href:"/explorer",children:"API Explorer"})," to interact with the system directly."]}),"\n",(0,a.jsxs)("div",{className:"mt-2 p-6 w-full",children:[(0,a.jsx)(r.Z,{img:o()}),(0,a.jsx)("div",{className:"text-gray-400 mb-2",children:(0,a.jsx)("small",{children:(0,a.jsx)(s.p,{children:"An excerpt of the Arkitekt Schema with some Metadata models that are\nattached to the images."})})})]}),"\n",(0,a.jsx)(s.h2,{id:"storage",children:"Storage"}),"\n",(0,a.jsxs)(s.p,{children:["Mikro uses a binary storage system for storing the actual image data. This is\ndone using a standard S3 object store, which is exposed through the ",(0,a.jsx)(s.a,{href:"https://min.io/",children:"Minio"})," server.\nThis allows for a scalable and distributed storage system that can be deployed in various configurations,\ne.g on a single machine, or in a distributed cluster."]}),"\n",(0,a.jsxs)("div",{className:"mt-2 p-6 w-full",children:[(0,a.jsx)(r.Z,{img:h()}),(0,a.jsx)("div",{className:"text-gray-400 mb-2",children:(0,a.jsx)("small",{children:(0,a.jsx)(s.p,{children:"Different storage configurations are possible, e.g. a single node, or a\ndistributed cluster. The storage is exposed through a standard S3 API, and apps do not need to know\nabout the underlying storage configuration."})})})]}),"\n",(0,a.jsx)(s.p,{children:"When accessing data, a preflight request is made to the Mikro API, which then returns authenticated presigned\nurls or temporary credentials for accessing the data. This allows for a secure and scalable storage system, that\ncan be deployed in various configurations."}),"\n",(0,a.jsx)(s.h2,{id:"metadata",children:"Metadata"}),"\n",(0,a.jsxs)(s.p,{children:["Mikro uses a relational database for storing metadata about the images. This\nallows for fast querying and filtering of images based on their metadata. The complete metadata\nis exposed through the GraphQL API, and can be used to filter and query images. YOu can however also\nuse the ",(0,a.jsx)(s.a,{href:"https://postgressql.org",children:"Postgres"})," database directly to query the metadata. If you are seeking to\nminimize the number of dependencies, you can also use the ",(0,a.jsx)(s.a,{href:"https://sqlite.org",children:"SQLite"})," database which provides\nthe same functionality, but is a single file database that does not require a separate database server."]})]})}function A(e={}){const{wrapper:s}={...(0,i.a)(),...e.components};return s?(0,a.jsx)(s,{...e,children:(0,a.jsx)(u,{...e})}):u(e)}}}]);