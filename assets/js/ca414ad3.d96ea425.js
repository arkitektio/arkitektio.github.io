(self.webpackChunkdoks=self.webpackChunkdoks||[]).push([[964],{12031:(e,s,t)=>{"use strict";t.r(s),t.d(s,{assets:()=>p,contentTitle:()=>h,default:()=>m,frontMatter:()=>l,metadata:()=>i,toc:()=>u});const i=JSON.parse('{"id":"design/services/lok","title":"Lok","description":"Lok is a central backend to manage and authorize User and Applications in a distributed","source":"@site/docs/design/services/lok.mdx","sourceDirName":"design/services","slug":"/design/services/lok","permalink":"/docs/design/services/lok","draft":false,"unlisted":false,"editUrl":"https://github.com/arkitektio/arkitektio.github.io/edit/master/docs/design/services/lok.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Lok","sidebar_label":"Lok","sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Services","permalink":"/docs/design/services/"},"next":{"title":"Rekuest","permalink":"/docs/design/services/rekuest"}}');var a=t(74848),n=t(28453),r=t(90547),o=t(42642),c=t.n(o),d=(t(75927),t(98434));const l={title:"Lok",sidebar_label:"Lok",sidebar_position:1},h="Lok",p={},u=[{value:"Design",id:"design",level:2},{value:"Features",id:"features",level:2},{value:"Next Features",id:"next-features",level:2}];function g(e){const s={a:"a",h1:"h1",h2:"h2",header:"header",input:"input",li:"li",p:"p",ul:"ul",...(0,n.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.header,{children:(0,a.jsx)(s.h1,{id:"lok",children:"Lok"})}),"\n",(0,a.jsxs)(s.p,{children:["Lok is a central backend to manage and authorize User and Applications in a distributed\nsettings. Loks provides endpoints for apps to configure themselvers (through the Fakts protocol)\nand in a second step to authenticate and authorize users. For the latter it is build on top of ",(0,a.jsx)(s.a,{href:"https://oauth.net/2/",children:"Oauth2"}),"\nand ",(0,a.jsx)(s.a,{href:"https://openid.net/connect/",children:"OpenID Connect"}),". It then provides a central authentication and authorization\nservice for applications to register and authenticate users, and issues JWT token for accessing services."]}),"\n",(0,a.jsx)(s.p,{children:"As JWT are cryptographically signed, they can be verified by any service, and do not require\na central session store."}),"\n",(0,a.jsx)(s.p,{children:"This distributed and scalable authentication and authorization system, was developed as the backbone for the\nArkitekt platform, but can be used as a standalone service for any application."}),"\n",(0,a.jsx)(d.S,{url:"https://github.com/arkitektio/lok-server",title:"Lok"}),"\n",(0,a.jsx)(s.h2,{id:"design",children:"Design"}),"\n",(0,a.jsx)(s.p,{children:"Lok employs patterns for distributed authentication and authorization, through the use of JWT tokens. These tokens\nrepresent cryptographically signed claims about the user and the application issued by the Lok server. They can be\nverified by any service, and do not require a central session store."}),"\n",(0,a.jsxs)("div",{className:"mt-2 p-6 w-full",children:[(0,a.jsx)(r.A,{img:c()}),(0,a.jsx)("div",{className:"text-gray-400 mb-2",children:(0,a.jsx)("small",{children:(0,a.jsx)(s.p,{children:"An excerpt of the Arkitekt Schema with some Metadata models that are\nattached to the images."})})})]}),"\n",(0,a.jsx)(s.h2,{id:"features",children:"Features"}),"\n",(0,a.jsxs)(s.ul,{className:"contains-task-list",children:["\n",(0,a.jsxs)(s.li,{className:"task-list-item",children:[(0,a.jsx)(s.input,{type:"checkbox",checked:!0,disabled:!0})," ","Application Registration (Authentication of apps based on various Flows)"]}),"\n",(0,a.jsxs)(s.li,{className:"task-list-item",children:[(0,a.jsx)(s.input,{type:"checkbox",checked:!0,disabled:!0})," ","App Configuration (apps can retrieve their configuration from the server)"]}),"\n",(0,a.jsxs)(s.li,{className:"task-list-item",children:[(0,a.jsx)(s.input,{type:"checkbox",checked:!0,disabled:!0})," ","User Authentication and Authorization"]}),"\n",(0,a.jsxs)(s.li,{className:"task-list-item",children:[(0,a.jsx)(s.input,{type:"checkbox",checked:!0,disabled:!0})," ","User and Application Management"]}),"\n",(0,a.jsxs)(s.li,{className:"task-list-item",children:[(0,a.jsx)(s.input,{type:"checkbox",checked:!0,disabled:!0})," ","Distibuted Authentication"]}),"\n",(0,a.jsxs)(s.li,{className:"task-list-item",children:[(0,a.jsx)(s.input,{type:"checkbox",checked:!0,disabled:!0})," ","Social Features (Comments)"]}),"\n",(0,a.jsxs)(s.li,{className:"task-list-item",children:[(0,a.jsx)(s.input,{type:"checkbox",checked:!0,disabled:!0})," ","User Profiles"]}),"\n"]}),"\n",(0,a.jsx)(s.p,{children:"All features are exposed through a GraphQL API, which can be used to interact with the system."}),"\n",(0,a.jsx)(s.h2,{id:"next-features",children:"Next Features"}),"\n",(0,a.jsxs)(s.p,{children:["Lok is currently undergoing a major rewrite, to make it more modular and easier to extend. This rewrite\nwill transition the system to a more modular architecture based on modern ",(0,a.jsx)(s.a,{href:"https://www.djangoproject.com/",children:"Django"})," and\nthe awesome ",(0,a.jsx)(s.a,{href:"https://strawberry.rocks/",children:"Strawberry GraphQL"})," library."]}),"\n",(0,a.jsx)(s.p,{children:"Additionally to the listed\nfeatures above, the following features are planned:"}),"\n",(0,a.jsxs)(s.ul,{className:"contains-task-list",children:["\n",(0,a.jsxs)(s.li,{className:"task-list-item",children:[(0,a.jsx)(s.input,{type:"checkbox",disabled:!0})," ","More diverse App Registration Flows (e.g. for Websites)"]}),"\n",(0,a.jsxs)(s.li,{className:"task-list-item",children:[(0,a.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Social Login (Login with Orcid, Github, Google,... )"]}),"\n",(0,a.jsxs)(s.li,{className:"task-list-item",children:[(0,a.jsx)(s.input,{type:"checkbox",disabled:!0})," ","User Profiles with social account information"]}),"\n",(0,a.jsxs)(s.li,{className:"task-list-item",children:[(0,a.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Notificaition Backend (with Mobile Push Notifications)"]}),"\n",(0,a.jsxs)(s.li,{className:"task-list-item",children:[(0,a.jsx)(s.input,{type:"checkbox",disabled:!0})," ","More Security Features (e.g. 2FA)"]}),"\n"]})]})}function m(e={}){const{wrapper:s}={...(0,n.R)(),...e.components};return s?(0,a.jsx)(s,{...e,children:(0,a.jsx)(g,{...e})}):g(e)}},42642:(e,s,t)=>{e.exports={src:{srcSet:t.p+"assets/ideal-img/lok.d9253af.640.png 640w,"+t.p+"assets/ideal-img/lok.430b765.1320.png 1320w,"+t.p+"assets/ideal-img/lok.952d031.2000.png 2000w",images:[{path:t.p+"assets/ideal-img/lok.d9253af.640.png",width:640,height:402},{path:t.p+"assets/ideal-img/lok.430b765.1320.png",width:1320,height:829},{path:t.p+"assets/ideal-img/lok.952d031.2000.png",width:2e3,height:1256}],src:t.p+"assets/ideal-img/lok.d9253af.640.png",toString:function(){return t.p+"assets/ideal-img/lok.d9253af.640.png"},placeholder:void 0,width:640,height:402},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA+0lEQVR4nGNQNvSPNTYL+60o423GwMDAYGkd9ULPIHQGiF1fX88EosFAwcRR3dnTvVKSR1Lk////TC4+HhWa5naeIDn/oEfuYfGvIrx8n3kwpHk89C1KO3kk2OfsnLjgcytiyg+uji85ucnb93JBQ9aPM9s7//+vS/36gCHPe1t8u9fMky3+7ScSfNtPRre07YvubD7jnj6v8tacTz3vZ99bfq3n3nSG5rg05Uq/RK0rNZtDghzc3Q1UtfVX92wzzI/PV1hXv9wnwtxXfHvzcgcGOzs7X2dnp5XOzs6zXFyc5np4uM8KCPSbaWVlNcXRxm6Gq5PDPDs7m24AXWxgqaA6WqAAAAAASUVORK5CYII="}},75927:(e,s,t)=>{e.exports={src:{srcSet:t.p+"assets/ideal-img/storage.c286cfe.640.png 640w,"+t.p+"assets/ideal-img/storage.ac2a367.1320.png 1320w,"+t.p+"assets/ideal-img/storage.7bc9baa.1909.png 1909w",images:[{path:t.p+"assets/ideal-img/storage.c286cfe.640.png",width:640,height:555},{path:t.p+"assets/ideal-img/storage.ac2a367.1320.png",width:1320,height:1144},{path:t.p+"assets/ideal-img/storage.7bc9baa.1909.png",width:1909,height:1654}],src:t.p+"assets/ideal-img/storage.c286cfe.640.png",toString:function(){return t.p+"assets/ideal-img/storage.c286cfe.640.png"},placeholder:void 0,width:640,height:555},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAJCAYAAAALpr0TAAAACXBIWXMAAAsTAAALEwEAmpwYAAABcElEQVR4nGNgYGBg+P+fgdHdJ9rIyT3Y1j842ra8PMc7LirKsSA11iUmJsYpNDLSjOH////c9fv/s2xY1pO9dd2k/iWzOyo3r2ibP609rcovvSvO2y8wItjXPYjh///3AqGr/jNfODxv5sUjC04tnDOpdPfarjkZbR31egVLMvJi3ILz4xz9QCbygBRnljVbpRU3ehs4+5hWNRb7xmQVesRmZrqkp2e7ZuXl2YAUMu7fv59lbXxM9rqE2M5NSQmd6+Pi2tfHxbWsS0hoyo8KDwoIDQUrZPr//z/zpug80+mBBSELonPD5ielRE+NTEycEZUQnhubYRgdnSvD8O/fPz6Qh7y9/+vn53/bGR//JxYUEstc00NatFIMqqr+G7Q3vMpnqK+vZ/n//z9rc/VBxYjA6SHlhXOCQwPyjKOdom3rsyerrV38RbKq6rw0SDMjiAgM9JAxNdVdaGVjvtLKymqlqYXpRhsHG3uQHEM9AxMAfoedU0i0c/UAAAAASUVORK5CYII="}},98434:(e,s,t)=>{"use strict";t.d(s,{S:()=>a});t(96540);var i=t(74848);const a=e=>(0,i.jsxs)("a",{href:e.url,className:"text-primary-100 hover:text-primary-400 px-1 py-1 bg-slate-800 rounded rounded-md",target:"_blank",children:["Open ",e.title," on Github"]})}}]);