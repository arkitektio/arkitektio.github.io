"use strict";(self.webpackChunkdoks=self.webpackChunkdoks||[]).push([[3303],{88656:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>u,contentTitle:()=>d,default:()=>f,frontMatter:()=>o,metadata:()=>c,toc:()=>h});var n=t(85893),a=t(11151),i=t(61884),l=t(62446),s=t(37982);const o={id:"installation",title:"Installation",sidebar_label:"Installation"},d="Installation",c={id:"developers/javascript/installation",title:"Installation",description:"Prerequisites",source:"@site/docs/developers/javascript/installation.mdx",sourceDirName:"developers/javascript",slug:"/developers/javascript/installation",permalink:"/docs/developers/javascript/installation",draft:!1,unlisted:!1,editUrl:"https://github.com/jhnnsrs/doks/edit/master/docs/developers/javascript/installation.mdx",tags:[],version:"current",frontMatter:{id:"installation",title:"Installation",sidebar_label:"Installation"},sidebar:"tutorialSidebar",previous:{title:"Javascript/Typescript",permalink:"/docs/category/javascripttypescript"},next:{title:"Python",permalink:"/docs/category/python"}},u={},h=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Installation",id:"installation-1",level:2},{value:"Usage",id:"usage",level:2}];function p(e){const r={admonition:"admonition",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,a.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.h1,{id:"installation",children:"Installation"}),"\n",(0,n.jsx)(r.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,n.jsx)(r.p,{children:"Arkitekt Web is build on react and therefore requires react >16 to be installed."}),"\n",(0,n.jsx)(r.admonition,{title:"React only",type:"warning",children:(0,n.jsx)(r.p,{children:"Arkitekt Web support is currently relying exlusively on React and its ecoystem. We are working on\nrefactoring the codebase to support other frameworks as well."})}),"\n",(0,n.jsx)(r.h2,{id:"installation-1",children:"Installation"}),"\n",(0,n.jsx)(r.p,{children:"The fully working arkitekt with all subservices can be installed via npm or yarn."}),"\n",(0,n.jsxs)(i.Z,{children:[(0,n.jsx)(l.Z,{value:"npm",label:"npm",children:(0,n.jsx)(s.Z,{language:"bash",children:"npm install @jhnnsrs/arkitekt"})}),(0,n.jsx)(l.Z,{value:"yarb",label:"yarn",children:(0,n.jsx)(s.Z,{language:"bash",children:"yarn add @jhnnsrs/arkitekt"})})]}),"\n",(0,n.jsx)(r.h2,{id:"usage",children:"Usage"}),"\n",(0,n.jsx)(r.p,{children:"Arkitekts functionaly is within the Arkitekt Provider that itself sets up providers for\nthe related services."}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-jsx",children:'import { ArkitektProvider } from "@jhnnsrs/arkitekt";\nimport { useMikroQuery, MikroGuard } from "@jhnnsrs/mikro";\n\nexport const InnerApp = () => {\n  const [data] = useMikroQuery(\n    gql```\n    query {\n      myrepresentations {\n        id\n        name\n      }\n    }\n  ```\n  ); // Once configured this will return the data from the query\n\n  return <>{JSON.stringify(data)}</>\n};\n\nexport const App = () => {\n  return (\n    <ArkitektProvider>\n        <MikroGuard fallback={<div>Mikro is not connected</div>}> {/* // This will only render the children if mikro is connected */}\n           <InnerApp>\n      </MikroGuard>\n    </ArkitektProvider>\n  );\n};\n'})}),"\n",(0,n.jsx)(r.admonition,{type:"info",children:(0,n.jsxs)(r.p,{children:["This app will not work as is. You need to use both ",(0,n.jsx)(r.code,{children:"fakts"})," and ",(0,n.jsx)(r.code,{children:"herre"})," to first\nconfigure the connected and then authenticate with them."]})}),"\n",(0,n.jsx)(r.p,{children:'This documentation provides examples to be used with "react-router" and authenticating\nyour web app as a public app (an app that users can login in with and authorize).'})]})}function f(e={}){const{wrapper:r}={...(0,a.a)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(p,{...e})}):p(e)}},62446:(e,r,t)=>{t.d(r,{Z:()=>l});t(67294);var n=t(90512);const a={tabItem:"tabItem_Ymn6"};var i=t(85893);function l(e){let{children:r,hidden:t,className:l}=e;return(0,i.jsx)("div",{role:"tabpanel",className:(0,n.Z)(a.tabItem,l),hidden:t,children:r})}},61884:(e,r,t)=>{t.d(r,{Z:()=>k});var n=t(67294),a=t(90512),i=t(72957),l=t(16550),s=t(81270),o=t(75238),d=t(33609),c=t(92560);function u(e){return n.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,n.isValidElement)(e)&&function(e){const{props:r}=e;return!!r&&"object"==typeof r&&"value"in r}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:r,children:t}=e;return(0,n.useMemo)((()=>{const e=r??function(e){return u(e).map((e=>{let{props:{value:r,label:t,attributes:n,default:a}}=e;return{value:r,label:t,attributes:n,default:a}}))}(t);return function(e){const r=(0,d.l)(e,((e,r)=>e.value===r.value));if(r.length>0)throw new Error(`Docusaurus error: Duplicate values "${r.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[r,t])}function p(e){let{value:r,tabValues:t}=e;return t.some((e=>e.value===r))}function f(e){let{queryString:r=!1,groupId:t}=e;const a=(0,l.k6)(),i=function(e){let{queryString:r=!1,groupId:t}=e;if("string"==typeof r)return r;if(!1===r)return null;if(!0===r&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:r,groupId:t});return[(0,o._X)(i),(0,n.useCallback)((e=>{if(!i)return;const r=new URLSearchParams(a.location.search);r.set(i,e),a.replace({...a.location,search:r.toString()})}),[i,a])]}function m(e){const{defaultValue:r,queryString:t=!1,groupId:a}=e,i=h(e),[l,o]=(0,n.useState)((()=>function(e){let{defaultValue:r,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(r){if(!p({value:r,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${r}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return r}const n=t.find((e=>e.default))??t[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:r,tabValues:i}))),[d,u]=f({queryString:t,groupId:a}),[m,b]=function(e){let{groupId:r}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(r),[a,i]=(0,c.Nk)(t);return[a,(0,n.useCallback)((e=>{t&&i.set(e)}),[t,i])]}({groupId:a}),g=(()=>{const e=d??m;return p({value:e,tabValues:i})?e:null})();(0,s.Z)((()=>{g&&o(g)}),[g]);return{selectedValue:l,selectValue:(0,n.useCallback)((e=>{if(!p({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);o(e),u(e),b(e)}),[u,b,i]),tabValues:i}}var b=t(51048);const g={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var v=t(85893);function x(e){let{className:r,block:t,selectedValue:n,selectValue:l,tabValues:s}=e;const o=[],{blockElementScrollPositionUntilNextRender:d}=(0,i.o5)(),c=e=>{const r=e.currentTarget,t=o.indexOf(r),a=s[t].value;a!==n&&(d(r),l(a))},u=e=>{let r=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const t=o.indexOf(e.currentTarget)+1;r=o[t]??o[0];break}case"ArrowLeft":{const t=o.indexOf(e.currentTarget)-1;r=o[t]??o[o.length-1];break}}r?.focus()};return(0,v.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.Z)("tabs",{"tabs--block":t},r),children:s.map((e=>{let{value:r,label:t,attributes:i}=e;return(0,v.jsx)("li",{role:"tab",tabIndex:n===r?0:-1,"aria-selected":n===r,ref:e=>o.push(e),onKeyDown:u,onClick:c,...i,className:(0,a.Z)("tabs__item",g.tabItem,i?.className,{"tabs__item--active":n===r}),children:t??r},r)}))})}function y(e){let{lazy:r,children:t,selectedValue:a}=e;const i=(Array.isArray(t)?t:[t]).filter(Boolean);if(r){const e=i.find((e=>e.props.value===a));return e?(0,n.cloneElement)(e,{className:"margin-top--md"}):null}return(0,v.jsx)("div",{className:"margin-top--md",children:i.map(((e,r)=>(0,n.cloneElement)(e,{key:r,hidden:e.props.value!==a})))})}function j(e){const r=m(e);return(0,v.jsxs)("div",{className:(0,a.Z)("tabs-container",g.tabList),children:[(0,v.jsx)(x,{...e,...r}),(0,v.jsx)(y,{...e,...r})]})}function k(e){const r=(0,b.Z)();return(0,v.jsx)(j,{...e,children:u(e.children)},String(r))}},44773:(e,r,t)=>{t.d(r,{Z:()=>_});var n=t(67294),a=t(90512),i=t(51048),l=t(20076),s=t(97325),o=t(39962),d=t(10748),c=t(4779),u=t(73256);const h={playgroundContainer:"playgroundContainer_TGbA",playgroundHeader:"playgroundHeader_qwyd",playgroundEditor:"playgroundEditor_PvJ1",playgroundPreview:"playgroundPreview_bb8I"};var p=t(39903),f=t(89423),m=t(97120),b=t(85893);const g=()=>(0,b.jsx)(b.Fragment,{children:"Please connect to your Server first to use this Feature"}),v=e=>{let{children:r}=e;return(0,b.jsx)(p.k6,{fallback:(0,b.jsx)(g,{}),children:(0,b.jsx)(f.J,{fallback:(0,b.jsx)(g,{}),children:(0,b.jsx)(m.SS,{fallback:(0,b.jsx)(g,{}),children:r})})})};var x=t(69345);t(50085);const y=e=>{const{activeTree:r}=(0,x.UK)();return(0,b.jsx)("div",{className:"overflow-y-auto",children:r&&(0,b.jsx)(x.mp,{group:r,groupsClassName:()=>"",containerClassName:e=>"w-full h-[300px] "+(e.omit?"":" ")})})};var j=t(37274),k=t(1616),w=t(11061);function N(e){const r=e.isHeadersEditorEnabled??!0,t=(0,w._i)({nonNull:!0}),a=((0,w.JB)({nonNull:!0}),(0,w.J5)({nonNull:!0}),(0,w.bN)(),(0,w.gp)()),{theme:i,setTheme:l}=((0,w.Xd)({onCopyQuery:e.onCopyQuery}),(0,w.pQ)(),(0,w.fE)(),(0,w.Fg)()),s=(0,w.Xx)({defaultSizeRelation:1/3,direction:"horizontal",initiallyHidden:a?.visiblePlugin?void 0:"first",onHiddenElementChange:e=>{"first"===e&&a?.setVisiblePlugin(null)},sizeThresholdSecond:200,storageKey:"docExplorerFlex"}),o=(0,w.Xx)({direction:"horizontal",storageKey:"editorFlex"}),d=(0,w.Xx)({defaultSizeRelation:3,direction:"vertical",initiallyHidden:(()=>{if("variables"!==e.defaultEditorToolsVisibility&&"headers"!==e.defaultEditorToolsVisibility)return"boolean"==typeof e.defaultEditorToolsVisibility?e.defaultEditorToolsVisibility?void 0:"second":t.initialVariables||t.initialHeaders?void 0:"second"})(),sizeThresholdSecond:60,storageKey:"secondaryEditorFlex"}),[c,u]=(0,n.useState)((()=>"variables"===e.defaultEditorToolsVisibility||"headers"===e.defaultEditorToolsVisibility?e.defaultEditorToolsVisibility:!t.initialVariables&&t.initialHeaders&&r?"headers":"variables")),[h,p]=(0,n.useState)(null),[f,m]=(0,n.useState)(null);window.navigator.platform.toLowerCase().indexOf("mac");return(0,b.jsx)("div",{"data-testid":"graphiql-container",className:"graphiql-container border border-primary-300 rounded-lg relative",children:(0,b.jsx)("div",{className:"graphiql-main",children:(0,b.jsx)("div",{className:"graphiql-sessions",children:(0,b.jsx)("div",{role:"tabpanel",id:"graphiql-session",className:"graphiql-session","aria-labelledby":`graphiql-session-tab-${t.activeTabIndex}`,children:(0,b.jsx)("div",{ref:o.firstRef,children:(0,b.jsx)("div",{className:"graphiql-editors"+(1===t.tabs.length?" full-height":""),children:(0,b.jsx)("div",{ref:d.firstRef,children:(0,b.jsx)("section",{className:"graphiql-query-editor","aria-label":"Query Editor",children:(0,b.jsx)("div",{className:"graphiql-query-editor-wrapper dark:bg-slate-700",children:(0,b.jsx)(w.WK,{editorTheme:e.editorTheme,keyMap:e.keyMap,onClickReference:()=>{"first"===s.hiddenElement&&s.setHiddenElement(null)},onCopyQuery:e.onCopyQuery,onEdit:e.onEditQuery,readOnly:e.readOnly})})})})})})})})})})}const q=e=>{let{query:r,onEditQuery:t}=e;const{config:a}=(0,m.rM)(),{token:i}=(0,f.gX)(),[l,o]=(0,n.useState)(),d=(0,j.nq)({url:a?.endpointUrl||"",headers:{Authorization:`Bearer ${i}`}});return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"p-2 w-full text-xl font-light bg-gray-200 text-slate-900 rounded-t-md border-none border-0 ",children:(0,b.jsx)(s.Z,{id:"theme.Playground.result",description:"The result label of the live codeblocks",children:"Live"})}),(0,b.jsx)("div",{className:"h-[300px]",children:(0,b.jsx)(k.j$,{fetcher:d,query:r,children:(0,b.jsx)(N,{onEditQuery:t})})})]})};var E=t(31230);const T=e=>{const{setActiveQueryData:r}=(0,x.UK)(),{client:t}=(0,m.rM)();return(0,n.useEffect)((()=>{if(e.code){console.log("props.code",e.code);try{t.query({query:(0,E.ZP)(e.code)}).then((e=>{r(e.data)}))}catch(n){console.log("e",n)}}}),[e.code]),(0,b.jsx)(y,{})};function I(e){const[r,t]=(0,n.useState)(),[a,i]=(0,n.useState)();return(0,n.useEffect)((()=>{let e=new x.vF;e.registerChart({name:"test",match:e=>{if(e.data)return{priority:1,Component:x.b0}}}),t(e);let r=new x.HD({name:"fallback",object:"fallback",Component:e=>(0,b.jsx)("div",{children:JSON.stringify(e.value)})});r.registerSmart({name:"Omero",object:"Omero",Component:e=>(0,b.jsxs)("div",{className:"bg-slate-900 p-3 rounded rounded-md",children:["This is the Omero file ",JSON.stringify(e.value)]})}),i(r)}),[]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"p-2 w-full text-xl font-light bg-slate-600 text-slate-200 shadow shadow-md",children:(0,b.jsx)(s.Z,{id:"theme.Playground.result",description:"The result label of the live codeblocks",children:"Result"})}),(0,b.jsx)("div",{children:(0,b.jsx)(d.Z,{fallback:(0,b.jsx)("div",{children:"Hallo"}),children:()=>(0,b.jsx)(v,{children:a&&r&&(0,b.jsx)(x.z0,{chartRegistry:r,smartRegistry:a,palette:{graphColor:"#ffffff",dataColors:["rgb(var(--color-primary-100))","rgb(var(--color-primary-200))","rgb(var(--color-primary-300))"]},children:(0,b.jsx)(T,{code:e.code})})})})})]})}const C=e=>{let{code:r,playgroundPosition:t}=e;const[a,i]=(0,n.useState)(r);return(0,b.jsx)("div",{className:"border-slate-300  p-1 ",children:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(q,{query:a,onEditQuery:i}),(0,b.jsx)(I,{code:a})]})})};function S(e){let{children:r}=e;return(0,b.jsx)("div",{className:(0,a.Z)(h.playgroundHeader),children:r})}function V(){return(0,b.jsx)("div",{children:"Loading..."})}function P(e){let{error:r,tryAgain:t}=e;return(0,b.jsx)("div",{className:h.errorFallback,children:(0,b.jsx)("p",{children:r.message})})}function Z(){return(0,b.jsx)(d.Z,{fallback:(0,b.jsx)(V,{}),children:()=>(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(u.Z,{fallback:e=>(0,b.jsx)(P,{...e}),children:(0,b.jsx)(l.i5,{})}),(0,b.jsx)(l.IF,{})]})})}function A(){return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(S,{children:(0,b.jsx)(s.Z,{id:"theme.Playground.result",description:"The result label of the live codeblocks",children:"Result"})}),(0,b.jsx)("div",{className:h.playgroundPreview,children:(0,b.jsx)(v,{children:(0,b.jsx)(Z,{})})})]})}function F(){const e=(0,i.Z)();return(0,b.jsx)(l.uz,{className:h.playgroundEditor},String(e))}function R(){return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(S,{children:(0,b.jsx)(s.Z,{id:"theme.Playground.liveEditor",description:"The live editor label of the live codeblocks",children:"Live Editor"})}),(0,b.jsx)(F,{})]})}function _(e){let{children:r,transformCode:t,...n}=e;const{siteConfig:{themeConfig:a}}=(0,o.Z)(),{liveCodeBlock:{playgroundPosition:i}}=a,s=(0,c.p)();if(console.log(n),"language-kraphql"===n.className)return(0,b.jsx)(d.Z,{children:()=>(0,b.jsx)(C,{code:r,playgroundPosition:i})});const u=n.metastring?.includes("noInline")??!1;return(0,b.jsx)("div",{className:h.playgroundContainer,children:(0,b.jsx)(l.nu,{code:r.replace(/\n$/,""),noInline:u,transformCode:t??(e=>`${e};`),theme:s,...n,children:"top"===i?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(A,{}),(0,b.jsx)(R,{})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(R,{}),(0,b.jsx)(A,{})]})})})}},5522:(e,r,t)=>{t.d(r,{Z:()=>d});var n=t(67294),a=t(97120),i=t(60203),l=t(21127),s=t(85893);var o=t(31230);const d={React:n,...n,withMikro:a.R1,useMikroQuery:a.WE,BioImage:e=>{let{image:r}=e;const{s3resolve:t}=(0,i.th)();return(0,s.jsxs)("div",{className:"h-20 flex flex-row bg-black text-white border-gray-200 border border-1 rounded relative overflow-hidden shadow-lg shadow ",children:[r.store&&r.shape&&(0,s.jsx)(l.Yr,{path:t(r.store),shape:r.shape}),(0,s.jsxs)("div",{className:"absolute w-full top-0 left-0 p-2 bg-gradient-to-b from-black to-transparent",children:[r.name," "]})]})},useDatalayer:i.th,gql:o.Ps}}}]);