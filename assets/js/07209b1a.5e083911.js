(self.webpackChunkdoks=self.webpackChunkdoks||[]).push([[9843],{45340:(e,t,a)=>{e.exports={src:{srcSet:a.p+"assets/ideal-img/mikroj.205f25c.640.png 640w,"+a.p+"assets/ideal-img/mikroj.364f7b1.1320.png 1320w,"+a.p+"assets/ideal-img/mikroj.001118a.2000.png 2000w",images:[{path:a.p+"assets/ideal-img/mikroj.205f25c.640.png",width:640,height:542},{path:a.p+"assets/ideal-img/mikroj.364f7b1.1320.png",width:1320,height:1118},{path:a.p+"assets/ideal-img/mikroj.001118a.2000.png",width:2e3,height:1694}],src:a.p+"assets/ideal-img/mikroj.205f25c.640.png",toString:function(){return a.p+"assets/ideal-img/mikroj.205f25c.640.png"},placeholder:void 0,width:640,height:542},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAICAYAAADA+m62AAAACXBIWXMAAAsTAAALEwEAmpwYAAABOElEQVR4nGPQ0NAokJeXvxsbG3u5sbHp8pZt2zpPnDrTe+rUqSQGZMDJzt7Jxsr6n5ub+z8bG9sHfn5+QagUI4pCJTvHyTIyMv95uHlACt/Onj1b5dGjr2ZnLt6yeP36P++qVf+Zr1x5ycMQumXVLi1H5x9SoiLvxcTELp85ccDx7auLvz59uPv/w5fzbtUlL1wmdL7pZSg4v8Zadfp06VK/JF6/pE7e68fXK1w9Pafxzo1DdadO7Vbq738vMH36Y1WG6c/Ph017cfHEhIfHdky4sn1f18Oz+5veP9jW9PjClFWhocxwN7ZeuDV57ovb/2c8P/d77dNL/3vf3/03/8u1/323Lr9wilgmDlJTX1/PxDDh6emc1kdnP3Q9OHNr4r2T9xsvn7i7ZP/ip9Ovbj3AsOoKGywEACCOmSArF5WbAAAAAElFTkSuQmCC"}},73731:(e,t,a)=>{"use strict";a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>h,default:()=>w,frontMatter:()=>d,metadata:()=>c,toc:()=>u});var s=a(85893),o=a(11151),r=(a(27859),a(33346)),i=a(15944),n=a(45340),l=a.n(n);const d={title:"Fiji Automation",sidebar_label:"Fiji Automation",sidebar_position:1},h="Fiji Automation",c={id:"showcases/advanced/fiji_workflow",title:"Fiji Automation",description:"While Arkitekt is primarily designed to allow for workflows spanning multiple apps, it can also be used to automate work within a single app.",source:"@site/docs/showcases/advanced/fiji_workflow.mdx",sourceDirName:"showcases/advanced",slug:"/showcases/advanced/fiji_workflow",permalink:"/docs/showcases/advanced/fiji_workflow",draft:!1,unlisted:!1,editUrl:"https://github.com/arkitektio/arkitektio.github.io/edit/master/docs/showcases/advanced/fiji_workflow.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{title:"Fiji Automation",sidebar_label:"Fiji Automation",sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Advanced",permalink:"/docs/showcases/advanced/"},next:{title:"Omero Integration",permalink:"/docs/showcases/advanced/omero_sink"}},p={},u=[{value:"The why",id:"the-why",level:2},{value:"The how",id:"the-how",level:2},{value:"Our workflow",id:"our-workflow",level:3}];function m(e){const t={a:"a",h1:"h1",h2:"h2",h3:"h3",p:"p",strong:"strong",...(0,o.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h1,{id:"fiji-automation",children:"Fiji Automation"}),"\n",(0,s.jsx)(t.p,{children:"While Arkitekt is primarily designed to allow for workflows spanning multiple apps, it can also be used to automate work within a single app.\nIn this showcase we will look at how Arkitekt enables this pattern for the Fiji app, and how you can use the same visual\nworkflow editor to automate work within Fiji, as you would when automating work across apps."}),"\n",(0,s.jsx)(t.h2,{id:"the-why",children:"The why"}),"\n",(0,s.jsxs)(t.p,{children:["But first, why would you want to automate work within a single app? And why is this so substanially different from automating work across apps?\nAs explain the documentation about workflows ",(0,s.jsx)(t.a,{href:"/docs/design/terminology/workflow",children:"here"}),", workflows are graphically constructed pipeline, that\nspan multiple nodes where each node represents a functionality provided by an app, and that process your data (the edges) as it flows through the pipeline.\nIn the standard setting when you want to run this workflow then, you would assign it to an app that becomes the 'scheduler' for the workflow, e.g the\nentity that will take care of taking calling arkitekt and its connected app according to your workflow blueprint. During the workflow run the data that gets altered\nand send from app to app gets stored centrally on the arkitekt server, so that apps can easily interchange and share data."]}),"\n",(0,s.jsx)(t.p,{children:"We believe, tjis parardigm works great when automating work across apps, as keeping track of your intermediate results , might not only allow you to inspect\npotential mistakes in your analysis, but it allows the arkitekt platform to establish means of data provenance, where you can track the origin of your data, and\nthe steps that were taken to arrive at your final result."}),"\n",(0,s.jsx)(t.p,{children:"However, this paradigm falls short in scenaiours where you would consider these intermediary results as completely irrelevant, and where you would want to\nkeep your data local to your app, to benefit from the performance gains that this might bring. In these cases, all of the roundtrips to Arkitekt and the central\nstorage of your data might be considered unnecessary overhead and in cases of real-time processing, might constitued a deal-breaking bottleneck."}),"\n",(0,s.jsx)(t.p,{children:"For these scenarious Arktitekt offers the possibility to run workflow tasks locally, where the data may be kept local in memory in your app, and where the\nscheduling of the workflow tasks is done locally within your app. This is what we will explore in this showcase."}),"\n",(0,s.jsx)(t.h2,{id:"the-how",children:"The how"}),"\n",(0,s.jsxs)(t.p,{children:["So how does this work? Well, its actually not that different from the standard workflow setting. As Arkitekt workflows are just blueprints,\nthat are schedule by an app, we can just instruct the scheduling app to schedule tasks on nodes that are locally available, directly in memory, instead of\nrequesting Arkitekt to schedule the tasks for us. This enables us to assing tasks to nodes that are locally available, with minimal/zero latency and only\nresort to Arkitekt when we need to call functionality that is not available locally. But what about the data? First, all data that is send from app to app\nneeds to still be stored centrally on the Arkitekt server, so that apps can easily interchange and share data. However, as Node can define arbitary Inputs and Outputs,\nwe can define Inputs and Outputs that are not stored centrally, but that are kept local to the node. These Input and output Structures are termed ",(0,s.jsx)(t.strong,{children:"locally scoped"}),', which means\nthat Arkitekt will make sure that you can only wire up nodes that have the same local scope, in the workflow. To now perform a single or series of workflow task locally, we can just convert\nthe data that is stored centrally to a locally scoped data structure (a tasks done by a "BRIDGE" node), send it to a node that has locally scoped inputs and then consequentlly\nconvert the locally scoped output back to a centrally stored (global scoped) data structure (again done by a "BRIDGE" node).']}),"\n",(0,s.jsx)(t.p,{children:"This is best illustrated with the example of how we\nuse that in Fiji."}),"\n",(0,s.jsx)(t.h3,{id:"our-workflow",children:"Our workflow"}),"\n",(0,s.jsx)(t.p,{children:"Fiji is a popular image processing app, that is used by many in the scientific community. Arguably, this is because it provides a set of nice image data types to work with\nand that are easily processed by plugins in the same app. One of these data types is the ImagePlus, which is a data type that is used to represent images in Fiji.\nIn this showcase we will look at how we can use Arkitekt to automate work within Fiji, by using the ImagePlus data type as the data that flows through our workflow."}),"\n",(0,s.jsx)(t.p,{children:"The goal of our workflow is now to take an image, and to apply a series of image processing steps in fiji to it, to arrive at a final result. While we would like to run this\nworkflow on a centrally stored image and store the final result centrally, we would like to keep all intermediate results local to our app, to benefit from the performance\ngains of only working with in memory items."}),"\n",(0,s.jsxs)("div",{className:"mt-2",children:[(0,s.jsx)(i.Z,{img:l()}),(0,s.jsx)("div",{className:"text-gray-400 mb-2",children:(0,s.jsx)("small",{children:"The in app Workflow design where a globally scoped Image (backed by micro) is bridged to the ImageJ data type of an ImagePlus, that then gets\nparsed via an imagej macro (which code is a constant paramter of the workflow). The output is then bridged again back to the central server, here also ensuring\nthe propagration of the metadata of the original image as an origin to the new image. "})})]}),"\n",(0,s.jsx)(r.L,{})]})}function w(e={}){const{wrapper:t}={...(0,o.a)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(m,{...e})}):m(e)}},27859:(e,t,a)=>{"use strict";a.d(t,{Dr:()=>n,Hp:()=>i});a(67294);var s=a(63750),o=a(89583),r=a(85893);const i=e=>{let{children:t}=e;return(0,r.jsxs)("div",{className:"grid grid-cols-3 md:grid-cols-3 gap-4 mb-3 ",children:[(0,r.jsxs)("a",{href:"https://github.com/jhnnsrs/konstruktor/releases/latest/download/konstruktor_0.0.1_amd64.deb",target:"_blank",className:"p-2 bg-primary-300 rounded px-3 py-2 rounded-lg text-white cursor-pointer hover:bg-primary-500 hover:text-white my-auto flex flex-col items-center my-auto ",children:[(0,r.jsx)("div",{className:"my-auto mr-2",children:(0,r.jsx)(o._Aq,{size:"3em"})})," ",(0,r.jsx)("div",{className:"my-auto",children:"Linux"})]}),(0,r.jsxs)("a",{href:"https://github.com/jhnnsrs/konstruktor/releases/latest/download/konstruktor_0.0.1_x64_en-US.msi",target:"_blank",className:"bg-primary-300 rounded px-3 py-2 rounded-lg text-white cursor-pointer hover:bg-primary-500 hover:text-white flex flex-col items-center my-auto",children:[(0,r.jsx)("div",{className:"my-auto mr-2",children:(0,r.jsx)(s.L1p,{size:"3em"})})," ",(0,r.jsx)("div",{className:"my-auto",children:"Windows"})]}),(0,r.jsxs)("a",{href:"https://github.com/jhnnsrs/konstruktor/releases/latest/download/konstruktor_0.0.1_x64.dmg",target:"_blank",className:"bg-primary-300 rounded px-3 py-2 rounded-lg text-white cursor-pointer hover:bg-primary-500 hover:text-white my-auto flex flex-col items-center my-auto",children:[(0,r.jsx)("div",{className:"my-auto mr-2",children:(0,r.jsx)(o.oPZ,{size:"3em"})})," ",(0,r.jsx)("div",{className:"my-auto",children:"Mac"})]})]})},n=e=>{let{children:t}=e;return(0,r.jsxs)("div",{className:"grid grid-cols-3 md:grid-cols-3 gap-4 mb-3 ",children:[(0,r.jsxs)("a",{href:"https://github.com/jhnnsrs/orkestrator/releases/download/orkestrator-v0.0.6/orkestrator_0.0.6_amd64.deb",target:"_blank",className:"p-2 bg-primary-300 rounded px-3 py-2 rounded-lg text-white cursor-pointer hover:bg-primary-500 hover:text-white my-auto flex flex-col items-center my-auto ",children:[(0,r.jsx)("div",{className:"my-auto mr-2",children:(0,r.jsx)(o._Aq,{size:"3em"})})," ",(0,r.jsx)("div",{className:"my-auto",children:"Linux"})]}),(0,r.jsxs)("a",{href:"https://github.com/jhnnsrs/orkestrator/releases/download/orkestrator-v0.0.6/orkestrator_0.0.6_x64_en-US.msi",target:"_blank",className:"bg-primary-300 rounded px-3 py-2 rounded-lg text-white cursor-pointer hover:bg-primary-500 hover:text-white flex flex-col items-center my-auto",children:[(0,r.jsx)("div",{className:"my-auto mr-2",children:(0,r.jsx)(s.L1p,{size:"3em"})})," ",(0,r.jsx)("div",{className:"my-auto",children:"Windows"})]}),(0,r.jsxs)("a",{href:"https://github.com/jhnnsrs/orkestrator/releases/download/orkestrator-v0.0.6/orkestrator_0.0.6_x64.dmg",target:"_blank",className:"bg-primary-300 rounded px-3 py-2 rounded-lg text-white cursor-pointer hover:bg-primary-500 hover:text-white my-auto flex flex-col items-center my-auto",children:[(0,r.jsx)("div",{className:"my-auto mr-2",children:(0,r.jsx)(o.oPZ,{size:"3em"})})," ",(0,r.jsx)("div",{className:"my-auto",children:"Mac"})]})]})}},33346:(e,t,a)=>{"use strict";a.d(t,{L:()=>o});a(67294);var s=a(85893);const o=e=>(0,s.jsx)(s.Fragment,{children:"CONNECTED"})}}]);