"use strict";(self.webpackChunkdoks=self.webpackChunkdoks||[]).push([[3866],{33850:(e,t,l)=>{l.d(t,{x:()=>o});var r=l(61872),s=l(97120),n=(l(67294),l(89423)),a=l(85893);const o=e=>{const{user:t}=(0,n.gX)();return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(r._H,{noAppFallback:(0,a.jsx)(a.Fragment,{children:"Not connected"}),loginButtonProps:{buildGrant:async e=>({clientId:e.lok.client_id,clientSecret:e.lok.client_secret,scopes:e.lok.scopes,redirectUri:window.location.origin+"/callback"}),className:e=>"px-2  py-2 cursor-pointer bg-primary-300 hover:bg-primary-400 rounded rounded-md "+(e.authenticating?"animate-pulse":"")},connectButtonProps:{buttonClassName:()=>"px-2 py-2 cursor-pointer bg-primary-300 hover:bg-primary-400  rounded rounded-md"},children:(0,a.jsx)(s.SS,{children:e.children})})})}},70358:(e,t,l)=>{l.r(t),l.d(t,{default:()=>b});var r=l(67294),s=l(39962),n=l(71131),a=l(37274),o=l(1616),c=l(89423),i=l(39903),d=l(33850),x=l(10748),u=l(85398),h=l(85893);const p=(0,u.o)({}),m=e=>{let{url:t}=e;const{token:l}=(0,c.gX)(),r=(0,a.nq)({url:t,headers:{Authorization:`Bearer ${l}`}}),s=(e=>{let t=`graphiql:${e}.`;return{getItem:e=>localStorage.getItem(`${t}.${e}`),setItem:(e,l)=>{localStorage.setItem(`${t}.${e}`,l)},removeItem:e=>{localStorage.removeItem(`${t}.${e}`)},clear:()=>{for(let e=0;e<localStorage.length;e++){const l=localStorage.key(e);l&&l.startsWith(t)&&localStorage.removeItem(l)}},get length(){let e=0;for(let l=0;l<localStorage.length;l++){const r=localStorage.key(l);r&&r.startsWith(t)&&e++}return e}}})(t);return(0,h.jsx)("div",{className:"h-full",children:(0,h.jsx)("div",{className:"h-full",children:r&&(0,h.jsx)(o.yB,{fetcher:r,defaultQuery:"",plugins:[p],storage:s})})})},g=e=>{let{onChange:t,value:l,options:r}=e;return(0,h.jsxs)("div",{className:"flex flex-row px-4",children:[(0,h.jsxs)("div",{className:"flex flex-col",children:[(0,h.jsxs)("div",{className:"flex  p-2  text-xl font-light text-slate-200 rounded-t-md border-none border-0",children:["API Explorer"," "]}),(0,h.jsxs)("div",{className:"px-2 my-auto text-xs text-slate-200",children:[" ","Explore your connected GraphQL Apis"]})]}),(0,h.jsx)("div",{className:"flex-grow"}),(0,h.jsxs)("div",{className:"flex flex-col",children:[(0,h.jsxs)("div",{className:" my-auto text-xs text-slate-200 text-end",children:["API Endpoint"," "]}),(0,h.jsx)("div",{className:"flex flex-row gap-2 my-auto ",children:r.map((e=>(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("button",{onClick:()=>t(e.url),disabled:e.url==l,className:"appearance-none bg-slate-700 hover:bg-slate-400 text-slate-200 font-light py-2 px-2 rounded inline-flex items-center cursor-pointer disabled:opacity-100 opacity-30 ",children:e.label})})))})]})]})},f=e=>{let{options:t}=e;const[l,s]=r.useState(t.at(0).url);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(g,{value:l,onChange:e=>s(e),options:t}),(0,h.jsx)(m,{url:l}),";"]})},j=()=>{const[e,t]=r.useState([]),{fakts:l}=(0,i.sT)();return r.useEffect((()=>{if(!l)return;let e=[];Object.keys(l).forEach((t=>{console.log(t);const r=l[t].endpoint_url,s=t;r&&r.includes("graphql")&&e.push({url:r,label:s})})),t(e)}),[l]),(0,h.jsx)("div",{className:"h-full",children:e&&e.length>=1&&(0,h.jsx)(f,{options:e})})},v=()=>(0,h.jsx)(x.Z,{fallback:(0,h.jsx)("div",{children:"Hallo"}),children:()=>(0,h.jsx)("div",{className:"h-full",children:(0,h.jsx)(d.x,{children:(0,h.jsx)(j,{})})})});function b(){const{siteConfig:e}=(0,s.Z)();return(0,h.jsx)(n.Z,{title:`${e.title} Explorer`,description:"This is the graphql explorer for the api.",children:(0,h.jsx)("main",{className:"h-screen",children:(0,h.jsx)(v,{})})})}}}]);