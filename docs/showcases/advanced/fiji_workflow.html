<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-showcases/advanced/fiji_workflow" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">Fiji Automation | Arkitekt</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://arkitekt.live/img/favicon.svg"><meta data-rh="true" name="twitter:image" content="https://arkitekt.live/img/favicon.svg"><meta data-rh="true" property="og:url" content="https://arkitekt.live/docs/showcases/advanced/fiji_workflow"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Fiji Automation | Arkitekt"><meta data-rh="true" name="description" content="While Arkitekt is primarily designed to allow for workflows spanning multiple apps, it can also be used to automate work within a single app."><meta data-rh="true" property="og:description" content="While Arkitekt is primarily designed to allow for workflows spanning multiple apps, it can also be used to automate work within a single app."><link data-rh="true" rel="icon" href="/img/favicon.svg"><link data-rh="true" rel="canonical" href="https://arkitekt.live/docs/showcases/advanced/fiji_workflow"><link data-rh="true" rel="alternate" href="https://arkitekt.live/docs/showcases/advanced/fiji_workflow" hreflang="en"><link data-rh="true" rel="alternate" href="https://arkitekt.live/docs/showcases/advanced/fiji_workflow" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://TSJ9BPZE3G-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Arkitekt RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Arkitekt Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Arkitekt" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.19f971d5.css">
<script src="/assets/js/runtime~main.253a1c1c.js" defer="defer"></script>
<script src="/assets/js/main.5b5fe869.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"> <!-- --> <!-- --> <!-- --> <!-- --> <div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/favicon.svg" alt="Doks Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/favicon.svg" alt="Doks Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">arkitekt</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Documentation</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/explorer">Explorer</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/arkitektio" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div class="relative my-auto"><div class="my-auto" data-headlessui-state=""><div><button class="inline-flex border-0 cursor-pointer bg-primary-300 w-full justify-center rounded-md text-white px-4 py-2 my-auto shadow-primary-300/20 hover:bg-opacity-30 focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75" type="button" aria-expanded="false" data-headlessui-state="">Connect</button></div></div><div style="position:fixed;top:1px;left:1px;width:1px;height:0;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0;display:none"></div><div class="absolute translate-y-[20px] w-40 translate-x-[-75%] xl:block hidden z-1"><img src="/assets/ideal-img/connect.2a6cb8b.147.png" alt="connect"></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Hi</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/introduction">Introduction</a><button aria-label="Expand sidebar category &#x27;Introduction&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/design">Design</a><button aria-label="Expand sidebar category &#x27;Design&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/apps">Apps</a><button aria-label="Expand sidebar category &#x27;Apps&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/troubleshooting">Troubleshooting</a><button aria-label="Expand sidebar category &#x27;Troubleshooting&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/developers">For Developers</a><button aria-label="Expand sidebar category &#x27;For Developers&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/showcases">Showcases</a><button aria-label="Collapse sidebar category &#x27;Showcases&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/showcases/advanced">Advanced</a><button aria-label="Collapse sidebar category &#x27;Advanced&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/showcases/advanced/fiji_workflow">Fiji Automation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/showcases/advanced/omero_sink">Omero Integration</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/showcases/paper">Paper</a><button aria-label="Expand sidebar category &#x27;Paper&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/roadmap">Roadmap</a><button aria-label="Expand sidebar category &#x27;Roadmap&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/showcases"><span itemprop="name">Showcases</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/showcases/advanced"><span itemprop="name">Advanced</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Fiji Automation</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Fiji Automation</h1>
<p>While Arkitekt is primarily designed to allow for workflows spanning multiple apps, it can also be used to automate work within a single app.
In this showcase we will look at how Arkitekt enables this pattern for the Fiji app, and how you can use the same visual
workflow editor to automate work within Fiji, as you would when automating work across apps.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-why">The why<a href="#the-why" class="hash-link" aria-label="Direct link to The why" title="Direct link to The why">​</a></h2>
<p>But first, why would you want to automate work within a single app? And why is this so substanially different from automating work across apps?
As explain the documentation about workflows <a href="/docs/design/terminology/workflow">here</a>, workflows are graphically constructed pipeline, that
span multiple nodes where each node represents a functionality provided by an app, and that process your data (the edges) as it flows through the pipeline.
In the standard setting when you want to run this workflow then, you would assign it to an app that becomes the &#x27;scheduler&#x27; for the workflow, e.g the
entity that will take care of taking calling arkitekt and its connected app according to your workflow blueprint. During the workflow run the data that gets altered
and send from app to app gets stored centrally on the arkitekt server, so that apps can easily interchange and share data.</p>
<p>We believe, tjis parardigm works great when automating work across apps, as keeping track of your intermediate results , might not only allow you to inspect
potential mistakes in your analysis, but it allows the arkitekt platform to establish means of data provenance, where you can track the origin of your data, and
the steps that were taken to arrive at your final result.</p>
<p>However, this paradigm falls short in scenaiours where you would consider these intermediary results as completely irrelevant, and where you would want to
keep your data local to your app, to benefit from the performance gains that this might bring. In these cases, all of the roundtrips to Arkitekt and the central
storage of your data might be considered unnecessary overhead and in cases of real-time processing, might constitued a deal-breaking bottleneck.</p>
<p>For these scenarious Arktitekt offers the possibility to run workflow tasks locally, where the data may be kept local in memory in your app, and where the
scheduling of the workflow tasks is done locally within your app. This is what we will explore in this showcase.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-how">The how<a href="#the-how" class="hash-link" aria-label="Direct link to The how" title="Direct link to The how">​</a></h2>
<p>So how does this work? Well, its actually not that different from the standard workflow setting. As Arkitekt workflows are just blueprints,
that are schedule by an app, we can just instruct the scheduling app to schedule tasks on nodes that are locally available, directly in memory, instead of
requesting Arkitekt to schedule the tasks for us. This enables us to assing tasks to nodes that are locally available, with minimal/zero latency and only
resort to Arkitekt when we need to call functionality that is not available locally. But what about the data? First, all data that is send from app to app
needs to still be stored centrally on the Arkitekt server, so that apps can easily interchange and share data. However, as Node can define arbitary Inputs and Outputs,
we can define Inputs and Outputs that are not stored centrally, but that are kept local to the node. These Input and output Structures are termed <strong>locally scoped</strong>, which means
that Arkitekt will make sure that you can only wire up nodes that have the same local scope, in the workflow. To now perform a single or series of workflow task locally, we can just convert
the data that is stored centrally to a locally scoped data structure (a tasks done by a &quot;BRIDGE&quot; node), send it to a node that has locally scoped inputs and then consequentlly
convert the locally scoped output back to a centrally stored (global scoped) data structure (again done by a &quot;BRIDGE&quot; node).</p>
<p>This is best illustrated with the example of how we
use that in Fiji.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="our-workflow">Our workflow<a href="#our-workflow" class="hash-link" aria-label="Direct link to Our workflow" title="Direct link to Our workflow">​</a></h3>
<p>Fiji is a popular image processing app, that is used by many in the scientific community. Arguably, this is because it provides a set of nice image data types to work with
and that are easily processed by plugins in the same app. One of these data types is the ImagePlus, which is a data type that is used to represent images in Fiji.
In this showcase we will look at how we can use Arkitekt to automate work within Fiji, by using the ImagePlus data type as the data that flows through our workflow.</p>
<p>The goal of our workflow is now to take an image, and to apply a series of image processing steps in fiji to it, to arrive at a final result. While we would like to run this
workflow on a centrally stored image and store the final result centrally, we would like to keep all intermediate results local to our app, to benefit from the performance
gains of only working with in memory items.</p>
<div class="mt-2"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAICAYAAADA+m62AAAACXBIWXMAAAsTAAALEwEAmpwYAAABOElEQVR4nGPQ0NAokJeXvxsbG3u5sbHp8pZt2zpPnDrTe+rUqSQGZMDJzt7Jxsr6n5ub+z8bG9sHfn5+QagUI4pCJTvHyTIyMv95uHlACt/Onj1b5dGjr2ZnLt6yeP36P++qVf+Zr1x5ycMQumXVLi1H5x9SoiLvxcTELp85ccDx7auLvz59uPv/w5fzbtUlL1wmdL7pZSg4v8Zadfp06VK/JF6/pE7e68fXK1w9Pafxzo1DdadO7Vbq738vMH36Y1WG6c/Ph017cfHEhIfHdky4sn1f18Oz+5veP9jW9PjClFWhocxwN7ZeuDV57ovb/2c8P/d77dNL/3vf3/03/8u1/323Lr9wilgmDlJTX1/PxDDh6emc1kdnP3Q9OHNr4r2T9xsvn7i7ZP/ip9Ovbj3AsOoKGywEACCOmSArF5WbAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="640" height="542"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/mikroj.205f25c.640.png" srcset="/assets/ideal-img/mikroj.205f25c.640.png 640w,/assets/ideal-img/mikroj.364f7b1.1320.png 1320w,/assets/ideal-img/mikroj.001118a.2000.png 2000w" width="640" height="542"></noscript></div><div class="text-gray-400 mb-2"><small>The in app Workflow design where a globally scoped Image (backed by micro) is bridged to the ImageJ data type of an ImagePlus, that then gets
parsed via an imagej macro (which code is a constant paramter of the workflow). The output is then bridged again back to the central server, here also ensuring
the propagration of the metadata of the original image as an origin to the new image. </small></div></div>
<!-- -->CONNECTED</div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/arkitektio/arkitektio.github.io/edit/master/docs/showcases/advanced/fiji_workflow.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/showcases/advanced"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Advanced</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/showcases/advanced/omero_sink"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Omero Integration</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#the-why" class="table-of-contents__link toc-highlight">The why</a></li><li><a href="#the-how" class="table-of-contents__link toc-highlight">The how</a><ul><li><a href="#our-workflow" class="table-of-contents__link toc-highlight">Our workflow</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://forum.image.sc/tag/arkitekt" target="_blank" rel="noopener noreferrer" class="footer__link-item">Image.sc<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/arkitektio/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Arkitekt, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>