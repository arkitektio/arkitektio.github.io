---
id: graphql
title: GraphQL
sidebar_label: GraphQL
sidebar_position: 1
---

import Image from "@theme/IdealImage";
import thumbnail from './graphql.png';

# GraphQL

Quite a lot of modern image analysis tools, especially those based on deep learning, are designed to run on GPUs. Arkitekt aims 
to make it easy to use these tools, and to make it easy to run them on GPUs. However there are a few things to be aware of, as
Arkitekt is not a magical solution to all GPU problems.

## Schema

There are two different ways to use GPUs with Arkitekt. The first is to use the GPU support built into the standalone tools themselves and
on their hardware. This is probably the case when this tool exists primarily outside of the Arkitekt ecosystem, and Arkitekt is just being used to bridge it.
You can then just connect this tool like any other tool, and Arkitekt will run in on the connecting tool and hardware.

The second way is to use the GPU support built into Arkitekt itself. This is the case when the tool is designed to run inside Arkitekt as a PluginApp. See more
in the [developer](/docs/developer) section on how to build an Arkitekt plugin. Here Arkitekt uses the docker support system to run the plugin in a docker container
within the Arkitekt server.  



# What does this boil down to?



<div className="mt-2 w-20">
<Image img={thumbnail} />

<div className="text-gray-400 mb-2">
<small>How the Arkitekt server can manage GPU access. (Adapted from the NVIDIA Container Toolkit Documentatoin) . Containers run in a sandbodex environment
and request GPU access from the underlying service (docker engine). This </small>
</div>
</div>



## Why we like GraphQL

Ask a developer about API design and you'll probably get an earful about which paradigm to use. REST, SOAP, RPC, and GraphQL are all popular choices.
We chose GraphQL for Arkitekt because it's a modern, flexible, and powerful way to design APIs that deal with relational and federated data in a type-safe way.
Lets look at these in more detail.

### Relational

Modern image analysis relies heavily on relational data 





## React developer? Try it out Here

We can talk ages about the ease of use of graphql. But you can try it out yourself. Here is a simple example of a React component that uses graphql to fetch data from yur local Arkitekt server.
You can just change the query to fetch any data you want.


```jsx live
function Display(props) {
  const { data } = useMikroQuery(
    gql`
      query {
        representations(limit: 3) {
          id
          name
          store
          shape
        }
      }
    `
  );

  return (
    <div className="flex flex-col gap-2">
      {data && data.representations.map((image) => <div className="bg-green-200">{image.name} </div>)}
    </div>
  );
}
```